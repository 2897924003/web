import{c as k,l as me,ao as at,ap as nt,r as Q,ar as it,p as rt,h as g,H as qe,q as se,a4 as Xe,aI as ot,J as he,g as pe,a2 as ut,at as Ge,X as Ve,Y as Qe,aA as st,w as ye,x as Je,aE as dt,aJ as ct,t as ge,V as Y,aK as ft,ad as Ne,aL as vt,am as be,aM as ze,av as mt,aN as Fe,aO as bt,aj as xe,aP as Ie,as as je,ak as gt,al as Ae,aq as ht,aQ as yt,aR as pt,ae as Ze,aS as _t,_ as kt,z as Me,o as De,B as C,C as N,D as u,Q as xt,E as Ce,j as o,aT as Ct,aU as qt,M as W,S as St,G as F,U as G,aV as wt,aW as Pt,O as Oe,P as J,R as Z,F as ee,K as Tt,a3 as te,aG as le,aF as M,aX as It,L as X,I as ae,ag as ne,N as ie}from"./index-CeeqmRIO.js";import{e as At,Q as Ue}from"./QInput-C0kg-8gv.js";import{Q as Vt,a as re}from"./QCheckbox-DYH2lDU-.js";import{Q as Re,b as Qt,a as $e}from"./QCardActions-DUu7N6pJ.js";import{Q as Bt}from"./QDialog-ClFP_LGy.js";import{Q as Et}from"./QPage-BHVqYzDk.js";import{C as He}from"./ClosePopup-C5PDsx4j.js";const Kt=["top","right","bottom","left"],Ye={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>Kt.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Lt(e,t){return{formClass:k(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:k(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:k(()=>{if(e.externalLabel===!0){const f=e.hideLabel===null?t.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(f===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Nt=["up","right","down","left"],zt=["left","center","right"],Ft=me({name:"QFab",props:{...Ye,...at,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...Ye.hideLabel,default:null},direction:{type:String,default:"right",validator:e=>Nt.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>zt.includes(e)}},emits:nt,setup(e,{slots:t}){const f=Q(null),r=Q(e.modelValue===!0),w=At(),{proxy:{$q:i}}=pe(),{formClass:l,labelProps:c}=Lt(e,r),h=k(()=>e.persistent!==!0),{hide:T,toggle:y}=it({showing:r,hideOnRouteChange:h}),E=k(()=>({opened:r.value})),q=k(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${l.value}`+(r.value===!0?" q-fab--opened":" q-fab--closed")),j=k(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${r.value===!0?"opened":"closed"}`),A=k(()=>{const _={id:w.value,role:"menu"};return r.value!==!0&&(_["aria-hidden"]="true"),_}),v=k(()=>`q-fab__icon-holder  q-fab__icon-holder--${r.value===!0?"opened":"closed"}`);function P(_,O){const U=t[_],I=`q-fab__${_} absolute-full`;return U===void 0?g(he,{class:I,name:e[O]||i.iconSet.fab[O]}):g("div",{class:I},U(E.value))}function p(){const _=[];return e.hideIcon!==!0&&_.push(g("div",{class:v.value},[P("icon","icon"),P("active-icon","activeIcon")])),(e.label!==""||t.label!==void 0)&&_[c.value.action](g("div",c.value.data,t.label!==void 0?t.label(E.value):[e.label])),Xe(t.tooltip,_)}return rt(ot,{showing:r,onChildClick(_){T(_),f.value!==null&&f.value.$el.focus()}}),()=>g("div",{class:q.value},[g(qe,{ref:f,class:l.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":r.value===!0?"true":"false","aria-haspopup":"true","aria-controls":w.value,onClick:y},p),g("div",{class:j.value,...A.value},se(t.default))])}}),jt=me({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:f}){let r=!1,w,i,l=null,c=null,h,T;function y(){w&&w(),w=null,r=!1,l!==null&&(clearTimeout(l),l=null),c!==null&&(clearTimeout(c),c=null),i!==void 0&&i.removeEventListener("transitionend",h),h=null}function E(v,P,p){P!==void 0&&(v.style.height=`${P}px`),v.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,r=!0,w=p}function q(v,P){v.style.overflowY=null,v.style.height=null,v.style.transition=null,y(),P!==T&&f(P)}function j(v,P){let p=0;i=v,r===!0?(y(),p=v.offsetHeight===v.scrollHeight?0:void 0):(T="hide",v.style.overflowY="hidden"),E(v,p,P),l=setTimeout(()=>{l=null,v.style.height=`${v.scrollHeight}px`,h=_=>{c=null,(Object(_)!==_||_.target===v)&&q(v,"show")},v.addEventListener("transitionend",h),c=setTimeout(h,e.duration*1.1)},100)}function A(v,P){let p;i=v,r===!0?y():(T="show",v.style.overflowY="hidden",p=v.scrollHeight),E(v,p,P),l=setTimeout(()=>{l=null,v.style.height=0,h=_=>{c=null,(Object(_)!==_||_.target===v)&&q(v,"hide")},v.addEventListener("transitionend",h),c=setTimeout(h,e.duration*1.1)},100)}return ut(()=>{r===!0&&y()}),()=>g(Ge,{css:!1,appear:e.appear,onEnter:j,onLeave:A},t.default)}}),Mt=["none","strict","leaf","leaf-filtered"],Dt=me({name:"QTree",props:{...Ve,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>Mt.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:{},noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:t,emit:f}){const{proxy:r}=pe(),{$q:w}=r,i=Qe(e,w),l=Q({}),c=Q(e.ticked||[]),h=Q(e.expanded||[]);let T={};st(()=>{T={}});const y=k(()=>`q-tree q-tree--${e.dense===!0?"dense":"standard"}`+(e.noConnectors===!0?" q-tree--no-connectors":"")+(i.value===!0?" q-tree--dark":"")+(e.color!==void 0?` text-${e.color}`:"")),E=k(()=>e.selected!==void 0),q=k(()=>e.icon||w.iconSet.tree.icon),j=k(()=>e.controlColor||e.color),A=k(()=>e.textColor!==void 0?` text-${e.textColor}`:""),v=k(()=>{const n=e.selectedColor||e.color;return n?` text-${n}`:""}),P=k(()=>e.filterMethod!==void 0?e.filterMethod:(n,s)=>{const a=s.toLowerCase();return n[e.labelKey]&&n[e.labelKey].toLowerCase().indexOf(a)!==-1}),p=k(()=>{const n={},s=(a,m)=>{const d=a.tickStrategy||(m?m.tickStrategy:e.tickStrategy),S=a[e.nodeKey],L=a[e.childrenKey]&&Array.isArray(a[e.childrenKey])&&a[e.childrenKey].length!==0,fe=a.disabled!==!0&&E.value===!0&&a.selectable!==!1,D=a.disabled!==!0&&a.expandable!==!1,tt=d!=="none",ke=d==="strict",Ke=d==="leaf-filtered",Pe=d==="leaf"||d==="leaf-filtered";let Te=a.disabled!==!0&&a.tickable!==!1;Pe===!0&&Te===!0&&m&&m.tickable!==!0&&(Te=!1);let ve=a.lazy;ve===!0&&l.value[S]!==void 0&&Array.isArray(a[e.childrenKey])===!0&&(ve=l.value[S]);const x={key:S,parent:m,isParent:L,lazy:ve,disabled:a.disabled,link:a.disabled!==!0&&(fe===!0||D===!0&&(L===!0||ve===!0)),children:[],matchesFilter:e.filter?P.value(a,e.filter):!0,selected:S===e.selected&&fe===!0,selectable:fe,expanded:L===!0?h.value.includes(S):!1,expandable:D,noTick:a.noTick===!0||ke!==!0&&ve&&ve!=="loaded",tickable:Te,tickStrategy:d,hasTicking:tt,strictTicking:ke,leafFilteredTicking:Ke,leafTicking:Pe,ticked:ke===!0?c.value.includes(S):L===!0?!1:c.value.includes(S)};if(n[S]=x,L===!0&&(x.children=a[e.childrenKey].map(z=>s(z,x)),e.filter&&(x.matchesFilter!==!0?x.matchesFilter=x.children.some(z=>z.matchesFilter):x.noTick!==!0&&x.disabled!==!0&&x.tickable===!0&&Ke===!0&&x.children.every(z=>z.matchesFilter!==!0||z.noTick===!0||z.tickable!==!0)===!0&&(x.tickable=!1)),x.matchesFilter===!0&&(x.noTick!==!0&&ke!==!0&&x.children.every(z=>z.noTick)===!0&&(x.noTick=!0),Pe))){if(x.ticked=!1,x.indeterminate=x.children.some(z=>z.indeterminate===!0),x.tickable=x.tickable===!0&&x.children.some(z=>z.tickable),x.indeterminate!==!0){const z=x.children.reduce((Le,lt)=>lt.ticked===!0?Le+1:Le,0);z===x.children.length?x.ticked=!0:z>0&&(x.indeterminate=!0)}x.indeterminate===!0&&(x.indeterminateNextState=x.children.every(z=>z.tickable!==!0||z.ticked!==!0))}return x};return e.nodes.forEach(a=>s(a,null)),n});ye(()=>e.ticked,n=>{c.value=n}),ye(()=>e.expanded,n=>{h.value=n});function _(n){const s=[].reduce,a=(m,d)=>{if(m||!d)return m;if(Array.isArray(d)===!0)return s.call(Object(d),a,m);if(d[e.nodeKey]===n)return d;if(d[e.childrenKey])return a(null,d[e.childrenKey])};return a(null,e.nodes)}function O(){return c.value.map(n=>_(n))}function U(){return h.value.map(n=>_(n))}function I(n){return n&&p.value[n]?p.value[n].expanded:!1}function $(){e.expanded!==void 0?f("update:expanded",[]):h.value=[]}function R(){const n=[],s=a=>{a[e.childrenKey]&&a[e.childrenKey].length!==0&&a.expandable!==!1&&a.disabled!==!0&&(n.push(a[e.nodeKey]),a[e.childrenKey].forEach(s))};e.nodes.forEach(s),e.expanded!==void 0?f("update:expanded",n):h.value=n}function V(n,s,a=_(n),m=p.value[n]){if(m.lazy&&m.lazy!=="loaded"){if(m.lazy==="loading")return;l.value[n]="loading",Array.isArray(a[e.childrenKey])!==!0&&(a[e.childrenKey]=[]),f("lazyLoad",{node:a,key:n,done:d=>{l.value[n]="loaded",a[e.childrenKey]=Array.isArray(d)===!0?d:[],Je(()=>{const S=p.value[n];S&&S.isParent===!0&&K(n,!0)})},fail:()=>{delete l.value[n],a[e.childrenKey].length===0&&delete a[e.childrenKey]}})}else m.isParent===!0&&m.expandable===!0&&K(n,s)}function K(n,s){let a=h.value;const m=e.expanded!==void 0;if(m===!0&&(a=a.slice()),s){if(e.accordion&&p.value[n]){const d=[];p.value[n].parent?p.value[n].parent.children.forEach(S=>{S.key!==n&&S.expandable===!0&&d.push(S.key)}):e.nodes.forEach(S=>{const L=S[e.nodeKey];L!==n&&d.push(L)}),d.length!==0&&(a=a.filter(S=>d.includes(S)===!1))}a=a.concat([n]).filter((d,S,L)=>L.indexOf(d)===S)}else a=a.filter(d=>d!==n);m===!0?f("update:expanded",a):h.value=a}function ue(n){return n&&p.value[n]?p.value[n].ticked:!1}function de(n,s){let a=c.value;const m=e.ticked!==void 0;m===!0&&(a=a.slice()),s?a=a.concat(n).filter((d,S,L)=>L.indexOf(d)===S):a=a.filter(d=>n.includes(d)===!1),m===!0&&f("update:ticked",a)}function Se(n,s,a){const m={tree:r,node:n,key:a,color:e.color,dark:i.value};return Ne(m,"expanded",()=>s.expanded,d=>{d!==s.expanded&&V(a,d)}),Ne(m,"ticked",()=>s.ticked,d=>{d!==s.ticked&&de([a],d)}),m}function _e(n){return(e.filter?n.filter(s=>p.value[s[e.nodeKey]].matchesFilter):n).map(s=>ce(s))}function b(n){if(n.icon!==void 0)return g(he,{class:"q-tree__icon q-mr-sm",name:n.icon,color:n.iconColor});const s=n.img||n.avatar;if(s)return g("img",{class:`q-tree__${n.img?"img":"avatar"} q-mr-sm`,src:s})}function B(){f("afterShow")}function H(){f("afterHide")}function ce(n){const s=n[e.nodeKey],a=p.value[s],m=n.header&&t[`header-${n.header}`]||t["default-header"],d=a.isParent===!0?_e(n[e.childrenKey]):[],S=d.length!==0||a.lazy&&a.lazy!=="loaded";let L=n.body&&t[`body-${n.body}`]||t["default-body"];const fe=m!==void 0||L!==void 0?Se(n,a,s):null;return L!==void 0&&(L=g("div",{class:"q-tree__node-body relative-position"},[g("div",{class:A.value},[L(fe)])])),g("div",{key:s,class:`q-tree__node relative-position q-tree__node--${S===!0?"parent":"child"}`},[g("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(a.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(a.selected===!0?" q-tree__node--selected":"")+(a.disabled===!0?" q-tree__node--disabled":""),tabindex:a.link===!0?0:-1,ariaExpanded:d.length>0?a.expanded:null,role:"treeitem",onClick:D=>{Ee(n,a,D)},onKeypress(D){dt(D)!==!0&&(D.keyCode===13?Ee(n,a,D,!0):D.keyCode===32&&we(n,a,D,!0))}},[g("div",{class:"q-focus-helper",tabindex:-1,ref:D=>{T[a.key]=D}}),a.lazy==="loading"?g(ct,{class:"q-tree__spinner",color:j.value}):S===!0?g(he,{class:"q-tree__arrow"+(a.expanded===!0?" q-tree__arrow--rotate":""),name:q.value,onClick(D){we(n,a,D)}}):null,a.hasTicking===!0&&a.noTick!==!0?g(Vt,{class:"q-tree__tickbox",modelValue:a.indeterminate===!0?null:a.ticked,color:j.value,dark:i.value,dense:!0,keepColor:!0,disable:a.tickable!==!0,onKeydown:ge,"onUpdate:modelValue":D=>{et(a,D)}}):null,g("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(a.selected===!0?v.value:A.value)},[m?m(fe):[b(n),g("div",n[e.labelKey])]])]),S===!0?e.noTransition===!0?a.expanded===!0?g("div",{class:"q-tree__node-collapsible"+A.value,key:`${s}__q`},[L,g("div",{class:"q-tree__children"+(a.disabled===!0?" q-tree__node--disabled":""),role:"group"},d)]):null:g(jt,{duration:e.duration,onShow:B,onHide:H},()=>Y(g("div",{class:"q-tree__node-collapsible"+A.value,key:`${s}__q`},[L,g("div",{class:"q-tree__children"+(a.disabled===!0?" q-tree__node--disabled":""),role:"group"},d)]),[[ft,a.expanded]])):L])}function Be(n){const s=T[n];s&&s.focus()}function Ee(n,s,a,m){m!==!0&&s.selectable!==!1&&Be(s.key),E.value&&s.selectable?e.noSelectionUnset===!1?f("update:selected",s.key!==e.selected?s.key:null):s.key!==e.selected&&f("update:selected",s.key===void 0?null:s.key):we(n,s,a,m),typeof n.handler=="function"&&n.handler(n)}function we(n,s,a,m){a!==void 0&&ge(a),m!==!0&&s.selectable!==!1&&Be(s.key),V(s.key,!s.expanded,n,s)}function et(n,s){if(n.indeterminate===!0&&(s=n.indeterminateNextState),n.strictTicking)de([n.key],s);else if(n.leafTicking){const a=[],m=d=>{d.isParent?(s!==!0&&d.noTick!==!0&&d.tickable===!0&&a.push(d.key),d.leafTicking===!0&&d.children.forEach(m)):d.noTick!==!0&&d.tickable===!0&&(d.leafFilteredTicking!==!0||d.matchesFilter===!0)&&a.push(d.key)};m(n),de(a,s)}}return e.defaultExpandAll===!0&&R(),Object.assign(r,{getNodeByKey:_,getTickedNodes:O,getExpandedNodes:U,isExpanded:I,collapseAll:$,expandAll:R,setExpanded:V,isTicked:ue,setTicked:de}),()=>{const n=_e(e.nodes);return g("div",{class:y.value,role:"tree"},n.length===0?e.filter?e.noResultsLabel||w.lang.tree.noResults:e.noNodesLabel||w.lang.tree.noNodes:n)}}});function Ot(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((f,r)=>{const w=parseFloat(f);w&&(t[r]=w)}),t}const Ut=vt({name:"touch-swipe",beforeMount(e,{value:t,arg:f,modifiers:r}){if(r.mouse!==!0&&be.has.touch!==!0)return;const w=r.mouseCapture===!0?"Capture":"",i={handler:t,sensitivity:Ot(f),direction:ze(r),noop:mt,mouseStart(l){Fe(l,i)&&bt(l)&&(xe(i,"temp",[[document,"mousemove","move",`notPassive${w}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(l,!0))},touchStart(l){if(Fe(l,i)){const c=l.target;xe(i,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),i.start(l)}},start(l,c){be.is.firefox===!0&&Ie(e,!0);const h=je(l);i.event={x:h.left,y:h.top,time:Date.now(),mouse:c===!0,dir:!1}},move(l){if(i.event===void 0)return;if(i.event.dir!==!1){ge(l);return}const c=Date.now()-i.event.time;if(c===0)return;const h=je(l),T=h.left-i.event.x,y=Math.abs(T),E=h.top-i.event.y,q=Math.abs(E);if(i.event.mouse!==!0){if(y<i.sensitivity[1]&&q<i.sensitivity[1]){i.end(l);return}}else if(window.getSelection().toString()!==""){i.end(l);return}else if(y<i.sensitivity[2]&&q<i.sensitivity[2])return;const j=y/c,A=q/c;i.direction.vertical===!0&&y<q&&y<100&&A>i.sensitivity[0]&&(i.event.dir=E<0?"up":"down"),i.direction.horizontal===!0&&y>q&&q<100&&j>i.sensitivity[0]&&(i.event.dir=T<0?"left":"right"),i.direction.up===!0&&y<q&&E<0&&y<100&&A>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&y<q&&E>0&&y<100&&A>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&y>q&&T<0&&q<100&&j>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&y>q&&T>0&&q<100&&j>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?(ge(l),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),gt(),i.styleCleanup=v=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const P=()=>{document.body.classList.remove("no-pointer-events--children")};v===!0?setTimeout(P,50):P()}),i.handler({evt:l,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:c,distance:{x:y,y:q}})):i.end(l)},end(l){i.event!==void 0&&(Ae(i,"temp"),be.is.firefox===!0&&Ie(e,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),l!==void 0&&i.event.dir!==!1&&ge(l),i.event=void 0)}};if(e.__qtouchswipe=i,r.mouse===!0){const l=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";xe(i,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}be.has.touch===!0&&xe(i,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const f=e.__qtouchswipe;f!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&f.end(),f.handler=t.value),f.direction=ze(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(Ae(t,"main"),Ae(t,"temp"),be.is.firefox===!0&&Ie(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function Rt(){let e=Object.create(null);return{getCache:(t,f)=>e[t]===void 0?e[t]=typeof f=="function"?f():f:e[t],setCache(t,f){e[t]=f},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const $t={name:{required:!0},disable:Boolean},We={setup(e,{slots:t}){return()=>g("div",{class:"q-panel scroll",role:"tabpanel"},se(t.default))}},Ht={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Yt=["update:modelValue","beforeTransition","transition"];function Wt(){const{props:e,emit:t,proxy:f}=pe(),{getCache:r}=Rt(),{registerTimeout:w}=ht();let i,l;const c=Q(null),h=Q(null);function T(b){const B=e.vertical===!0?"up":"left";V((f.$q.lang.rtl===!0?-1:1)*(b.direction===B?1:-1))}const y=k(()=>[[Ut,T,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),E=k(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),q=k(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),j=k(()=>`--q-transition-duration: ${e.transitionDuration}ms`),A=k(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),v=k(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),P=k(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ye(()=>e.modelValue,(b,B)=>{const H=U(b)===!0?I(b):-1;l!==!0&&R(H===-1?0:H<I(B)?-1:1),c.value!==H&&(c.value=H,t("beforeTransition",b,B),w(()=>{t("transition",b,B)},e.transitionDuration))});function p(){V(1)}function _(){V(-1)}function O(b){t("update:modelValue",b)}function U(b){return b!=null&&b!==""}function I(b){return i.findIndex(B=>B.props.name===b&&B.props.disable!==""&&B.props.disable!==!0)}function $(){return i.filter(b=>b.props.disable!==""&&b.props.disable!==!0)}function R(b){const B=b!==0&&e.animated===!0&&c.value!==-1?"q-transition--"+(b===-1?E.value:q.value):null;h.value!==B&&(h.value=B)}function V(b,B=c.value){let H=B+b;for(;H!==-1&&H<i.length;){const ce=i[H];if(ce!==void 0&&ce.props.disable!==""&&ce.props.disable!==!0){R(b),l=!0,t("update:modelValue",ce.props.name),setTimeout(()=>{l=!1});return}H+=b}e.infinite===!0&&i.length!==0&&B!==-1&&B!==i.length&&V(b,b===-1?i.length:-1)}function K(){const b=I(e.modelValue);return c.value!==b&&(c.value=b),!0}function ue(){const b=U(e.modelValue)===!0&&K()&&i[c.value];return e.keepAlive===!0?[g(pt,v.value,[g(P.value===!0?r(A.value,()=>({...We,name:A.value})):We,{key:A.value,style:j.value},()=>b)])]:[g("div",{class:"q-panel scroll",style:j.value,key:A.value,role:"tabpanel"},[b])]}function de(){if(i.length!==0)return e.animated===!0?[g(Ge,{name:h.value},ue)]:ue()}function Se(b){return i=yt(se(b.default,[])).filter(B=>B.props!==null&&B.props.slot===void 0&&U(B.props.name)===!0),i.length}function _e(){return i}return Object.assign(f,{next:p,previous:_,goTo:O}),{panelIndex:c,panelDirectives:y,updatePanelsList:Se,updatePanelIndex:K,getPanelContent:de,getEnabledPanels:$,getPanels:_e,isValidPanelName:U,keepAliveProps:v,needsUniqueKeepAliveWrapper:P,goToPanelByOffset:V,goToPanel:O,nextPanel:p,previousPanel:_}}const oe=me({name:"QTabPanel",props:$t,setup(e,{slots:t}){return()=>g("div",{class:"q-tab-panel",role:"tabpanel"},se(t.default))}}),Xt=me({name:"QTabPanels",props:{...Ht,...Ve},emits:Yt,setup(e,{slots:t}){const f=pe(),r=Qe(e,f.proxy.$q),{updatePanelsList:w,getPanelContent:i,panelDirectives:l}=Wt(),c=k(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(w(t),Ze("div",{class:c.value},i(),"pan",e.swipeable,()=>l.value))}}),Gt=me({name:"QSplitter",props:{...Ve,modelValue:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:e=>["%","px"].includes(e)},limits:{type:Array,validator:e=>e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"?!1:e[0]>=0&&e[0]<=e[1]},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]},emits:["update:modelValue"],setup(e,{slots:t,emit:f}){const{proxy:{$q:r}}=pe(),w=Qe(e,r),i=Q(null),l={before:Q(null),after:Q(null)},c=k(()=>`q-splitter no-wrap ${e.horizontal===!0?"q-splitter--horizontal column":"q-splitter--vertical row"} q-splitter--${e.disable===!0?"disabled":"workable"}`+(w.value===!0?" q-splitter--dark":"")),h=k(()=>e.horizontal===!0?"height":"width"),T=k(()=>e.reverse!==!0?"before":"after"),y=k(()=>e.limits!==void 0?e.limits:e.unit==="%"?[10,90]:[50,1/0]);function E(I){return(e.unit==="%"?I:Math.round(I))+e.unit}const q=k(()=>({[T.value]:{[h.value]:E(e.modelValue)}}));let j,A,v,P,p;function _(I){if(I.isFirst===!0){const R=i.value.getBoundingClientRect()[h.value];j=e.horizontal===!0?"up":"left",A=e.unit==="%"?100:R,v=Math.min(A,y.value[1],Math.max(y.value[0],e.modelValue)),P=(e.reverse!==!0?1:-1)*(e.horizontal===!0?1:r.lang.rtl===!0?-1:1)*(e.unit==="%"?R===0?0:100/R:1),i.value.classList.add("q-splitter--active");return}if(I.isFinal===!0){p!==e.modelValue&&f("update:modelValue",p),i.value.classList.remove("q-splitter--active");return}const $=v+P*(I.direction===j?-1:1)*I.distance[e.horizontal===!0?"y":"x"];p=Math.min(A,y.value[1],Math.max(y.value[0],$)),l[T.value].value.style[h.value]=E(p),e.emitImmediately===!0&&e.modelValue!==p&&f("update:modelValue",p)}const O=k(()=>[[_t,_,void 0,{[e.horizontal===!0?"vertical":"horizontal"]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function U(I,$){I<$[0]?f("update:modelValue",$[0]):I>$[1]&&f("update:modelValue",$[1])}return ye(()=>e.modelValue,I=>{U(I,y.value)}),ye(()=>e.limits,()=>{Je(()=>{U(e.modelValue,y.value)})}),()=>{const I=[g("div",{ref:l.before,class:["q-splitter__panel q-splitter__before"+(e.reverse===!0?" col":""),e.beforeClass],style:q.value.before},se(t.before)),g("div",{class:["q-splitter__separator",e.separatorClass],style:e.separatorStyle,"aria-disabled":e.disable===!0?"true":void 0},[Ze("div",{class:"q-splitter__separator-area absolute-full"},se(t.separator),"sep",e.disable!==!0,()=>O.value)]),g("div",{ref:l.after,class:["q-splitter__panel q-splitter__after"+(e.reverse===!0?"":" col"),e.afterClass],style:q.value.after},se(t.after))];return g("div",{class:c.value,ref:i},Xe(t.default,I))}}}),Jt={__name:"BuildingExample",setup(e,{expose:t}){t();const f=Q(!1),r=Q(!1),w=Me(),i=Q(),l=Q();De(()=>{i.value=window.innerWidth,l.value=i.value>600?1500:300});const c=[{categoryId:"Number of facades",label:"二层",children:[{categoryId:"1",label:"New Chinese style"},{categoryId:"2",label:"European style"},{categoryId:"3",label:"modern style"},{categoryId:"4",label:"Nordic style"}]},{categoryId:"Storeys / plantas",label:"三层",avatar:"",children:[{categoryId:"5",label:"New Chinese style"},{categoryId:"6",label:"European style"},{categoryId:"7",label:"modern style"},{categoryId:"8",label:"Nordic style"}]}],h=Q(""),T=Q(""),y=Q(!1),E=Q(""),q=Q(40),j=Q(""),A=()=>{},v=()=>{},P=Q(),p=async V=>{if(V!==null)try{const K=await Ce.get(`https://test.opensun.asia/api/file/projects/${V}`);P.value=K.data}catch(K){console.error(K)}},_=async V=>{if(V!==null)try{const K=await Ce.get(`https://test.opensun.asia/api/file/ids?project=${V}&category=${T.value}`);O.value=K.data.map(ue=>({entity:ue,path:`https://test.opensun.asia/api/file/image/${ue.id}`}))}catch(K){console.error(K)}},O=Q([]),R={miniState:f,drawer:r,$q:w,screen:i,width:l,category:c,search:h,selectedCategory:T,dialog:y,dialogImage:E,splitterModel:q,filter:j,applyFilter:A,doFilter:v,projects:P,fetchProject:p,fetchProjectImg:_,images:O,fetchImages:async()=>{if(T.value!==null)try{const V=await Ce.get(`https://test.opensun.asia/api/file/ids?category=${T.value}`);O.value=V.data.map(K=>({entity:K,path:`https://test.opensun.asia/api/file/image/${K.id}`}))}catch(V){console.error("获取图片路径失败:",V)}},download:V=>{const K=document.createElement("a");K.href=V,K.download="image.jpg",K.click()},showImage:V=>{E.value=V.path,y.value=!0},onMounted:De,ref:Q,get axios(){return Ce},get useQuasar(){return Me}};return Object.defineProperty(R,"__isScriptSetup",{enumerable:!1,value:!0}),R}},Zt={class:"fit"};function el(e,t,f,r,w,i){return C(),N(xt,{view:"lHh LpR lFf"},{default:u(()=>[o(Et,{class:"q-pa-md"},{default:u(()=>[o(Ct,null,{default:u(()=>[o(qt,null,{default:u(()=>t[9]||(t[9]=[W(" 建筑图纸分类 ")])),_:1}),o(Ue,{modelValue:r.search,"onUpdate:modelValue":t[0]||(t[0]=l=>r.search=l),placeholder:"暂未实现...",outlined:"",onKeyup:St(r.applyFilter,["enter"])},{append:u(()=>[o(he,{name:"search",onClick:r.applyFilter})]),_:1},8,["modelValue"])]),_:1}),o(Ft,{color:"amber","text-color":"black",icon:"keyboard_arrow_left",direction:"right",onClick:t[1]||(t[1]=l=>r.drawer=!r.drawer)},{label:u(({opened:l})=>[F("div",{class:wt({"example-fab-animate--hover":l!==!0})},G(l!==!0?"Category":"Close"),3)]),_:1}),o(Pt,{modelValue:r.drawer,"onUpdate:modelValue":t[6]||(t[6]=l=>r.drawer=l),side:"right",width:r.width,class:"flex row","show-if-above":""},{default:u(()=>[o(Gt,{modelValue:r.splitterModel,"onUpdate:modelValue":t[5]||(t[5]=l=>r.splitterModel=l),class:"window-height window-width","separator-class":"bg-black","separator-style":"width: 2px"},{before:u(()=>[o(Dt,{selected:r.selectedCategory,"onUpdate:selected":[t[2]||(t[2]=l=>r.selectedCategory=l),r.fetchImages],nodes:r.category,"no-transition":"","default-expand-all":"","node-key":"categoryId"},null,8,["selected"])]),after:u(()=>[o(Ue,{ref:"filterRef",filled:"",modelValue:r.filter,"onUpdate:modelValue":t[3]||(t[3]=l=>r.filter=l),label:"搜索项目--暂未实现",clearable:""},{append:u(()=>[r.filter!==""?(C(),N(he,{key:0,name:"search",class:"cursor-pointer",onClick:r.doFilter})):Oe("",!0)]),_:1},8,["modelValue"]),o(Xt,{modelValue:r.selectedCategory,"onUpdate:modelValue":t[4]||(t[4]=l=>r.selectedCategory=l),animated:"",onBeforeTransition:r.fetchProject,"transition-prev":"jump-up","transition-next":"jump-up"},{default:u(()=>[o(oe,{name:"1"},{default:u(()=>[t[10]||(t[10]=F("div",{class:"text-h4 q-mb-md"},"二层",-1)),t[11]||(t[11]=F("p",null,"新中式在此",-1)),(C(!0),J(ee,null,Z(r.projects,l=>(C(),N(te,{key:l},{default:u(()=>[Y((C(),N(le,{clickable:"",onClick:c=>r.fetchProjectImg(l)},{default:u(()=>[o(M,{avatar:""},{default:u(()=>[o(ae,null,{default:u(()=>[o(X,{src:"/icons/china.png"})]),_:1})]),_:1}),o(M,null,{default:u(()=>[o(re,null,{default:u(()=>[W(G(l)+"号项目",1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[ne]]),o(ie,{spaced:""})]),_:2},1024))),128))]),_:1}),o(oe,{name:"2"},{default:u(()=>[t[12]||(t[12]=F("div",{class:"text-h4 q-mb-md"},"二层",-1)),t[13]||(t[13]=F("p",null,"欧式",-1)),(C(!0),J(ee,null,Z(r.projects,l=>(C(),N(te,{key:l},{default:u(()=>[Y((C(),N(le,{clickable:"",onClick:c=>r.fetchProjectImg(l)},{default:u(()=>[o(M,{avatar:""},{default:u(()=>[o(ae,null,{default:u(()=>[o(X,{src:"/icons/china.png"})]),_:1})]),_:1}),o(M,null,{default:u(()=>[o(re,null,{default:u(()=>[W(G(l)+"号项目",1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[ne]]),o(ie,{spaced:""})]),_:2},1024))),128))]),_:1}),o(oe,{name:"3"},{default:u(()=>[t[14]||(t[14]=F("div",{class:"text-h4 q-mb-md"},"二层",-1)),t[15]||(t[15]=F("p",null,"现代风",-1)),(C(!0),J(ee,null,Z(r.projects,l=>(C(),N(te,{key:l},{default:u(()=>[Y((C(),N(le,{clickable:"",onClick:c=>r.fetchProjectImg(l)},{default:u(()=>[o(M,{avatar:""},{default:u(()=>[o(ae,null,{default:u(()=>[o(X,{src:"/icons/china.png"})]),_:1})]),_:1}),o(M,null,{default:u(()=>[o(re,null,{default:u(()=>[W(G(l)+"号项目",1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[ne]]),o(ie,{spaced:""})]),_:2},1024))),128))]),_:1}),o(oe,{name:"4"},{default:u(()=>[t[16]||(t[16]=F("div",{class:"text-h4 q-mb-md"},"二层",-1)),t[17]||(t[17]=F("p",null,"北欧风",-1)),(C(!0),J(ee,null,Z(r.projects,l=>(C(),N(te,{key:l},{default:u(()=>[Y((C(),N(le,{clickable:"",onClick:c=>r.fetchProjectImg(l)},{default:u(()=>[o(M,{avatar:""},{default:u(()=>[o(ae,null,{default:u(()=>[o(X,{src:"/icons/china.png"})]),_:1})]),_:1}),o(M,null,{default:u(()=>[o(re,null,{default:u(()=>[W(G(l)+"号项目",1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[ne]]),o(ie,{spaced:""})]),_:2},1024))),128))]),_:1}),o(oe,{name:"5"},{default:u(()=>[t[18]||(t[18]=F("div",{class:"text-h4 q-mb-md"},"三层",-1)),t[19]||(t[19]=F("p",null,"新中式在此",-1)),(C(!0),J(ee,null,Z(r.projects,l=>(C(),N(te,{key:l},{default:u(()=>[Y((C(),N(le,{clickable:"",onClick:c=>r.fetchProjectImg(l)},{default:u(()=>[o(M,{avatar:""},{default:u(()=>[o(ae,null,{default:u(()=>[o(X,{src:"/icons/china.png"})]),_:1})]),_:1}),o(M,null,{default:u(()=>[o(re,null,{default:u(()=>[W(G(l)+"号项目",1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[ne]]),o(ie,{spaced:""})]),_:2},1024))),128))]),_:1}),o(oe,{name:"6"},{default:u(()=>[t[20]||(t[20]=F("div",{class:"text-h4 q-mb-md"},"三层",-1)),t[21]||(t[21]=F("p",null,"欧式",-1)),(C(!0),J(ee,null,Z(r.projects,l=>(C(),N(te,{key:l},{default:u(()=>[Y((C(),N(le,{clickable:"",onClick:c=>r.fetchProjectImg(l)},{default:u(()=>[o(M,{avatar:""},{default:u(()=>[o(ae,null,{default:u(()=>[o(X,{src:"/icons/china.png"})]),_:1})]),_:1}),o(M,null,{default:u(()=>[o(re,null,{default:u(()=>[W(G(l)+"号项目",1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[ne]]),o(ie,{spaced:""})]),_:2},1024))),128))]),_:1}),o(oe,{name:"7"},{default:u(()=>[t[22]||(t[22]=F("div",{class:"text-h4 q-mb-md"},"三层",-1)),t[23]||(t[23]=F("p",null,"现代风",-1)),(C(!0),J(ee,null,Z(r.projects,l=>(C(),N(te,{key:l},{default:u(()=>[Y((C(),N(le,{clickable:"",onClick:c=>r.fetchProjectImg(l)},{default:u(()=>[o(M,{avatar:""},{default:u(()=>[o(ae,null,{default:u(()=>[o(X,{src:"/icons/china.png"})]),_:1})]),_:1}),o(M,null,{default:u(()=>[o(re,null,{default:u(()=>[W(G(l)+"号项目",1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[ne]]),o(ie,{spaced:""})]),_:2},1024))),128))]),_:1}),o(oe,{name:"8"},{default:u(()=>[t[24]||(t[24]=F("div",{class:"text-h4 q-mb-md"},"三层",-1)),t[25]||(t[25]=F("p",null,"北欧风",-1)),(C(!0),J(ee,null,Z(r.projects,l=>(C(),N(te,{key:l},{default:u(()=>[Y((C(),N(le,{clickable:"",onClick:c=>r.fetchProjectImg(l)},{default:u(()=>[o(M,{avatar:""},{default:u(()=>[o(ae,null,{default:u(()=>[o(X,{src:"/icons/china.png"})]),_:1})]),_:1}),o(M,null,{default:u(()=>[o(re,null,{default:u(()=>[W(G(l)+"号项目",1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[ne]]),o(ie,{spaced:""})]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1},8,["modelValue","width"]),o(Tt,null,{default:u(()=>[F("div",Zt,[o(te,null,{default:u(()=>[(C(!0),J(ee,null,Z(r.images,l=>(C(),N(Re,{key:l.entity},{default:u(()=>[o($e,null,{default:u(()=>[o(X,{src:l.path,alt:"Drawing Image",class:"cursor-pointer",onClick:c=>r.showImage(l)},null,8,["src","onClick"])]),_:2},1024),o($e,null,{default:u(()=>t[26]||(t[26]=[W(" 暂时没有描述 ")])),_:1})]),_:2},1024))),128)),r.images.length===0?(C(),N(le,{key:0},{default:u(()=>[o(M,null,{default:u(()=>t[27]||(t[27]=[F("div",{class:"text-accent"},"没有匹配的数据。",-1)])),_:1})]),_:1})):Oe("",!0)]),_:1})]),o(It,{position:"bottom-right","scroll-offset":150,offset:[18,18]},{default:u(()=>[o(qe,{fab:"",icon:"keyboard_arrow_up",color:"accent"})]),_:1})]),_:1}),o(Bt,{modelValue:r.dialog,"onUpdate:modelValue":t[8]||(t[8]=l=>r.dialog=l)},{default:u(()=>[o(Re,{class:"window-width"},{default:u(()=>[o(X,{src:r.dialogImage,draggable:"",decoding:"auto"},null,8,["src"]),o(Qt,{align:"center"},{default:u(()=>[Y(o(qe,{flat:"",label:"返回",color:"primary"},null,512),[[He]]),Y(o(qe,{flat:"",label:"下载",color:"primary",onClick:t[7]||(t[7]=l=>r.download(r.dialogImage))},null,512),[[He]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const ul=kt(Jt,[["render",el],["__scopeId","data-v-a7e2f822"],["__file","BuildingExample.vue"]]);export{ul as default};
